import React, { useEffect, useState } from 'react';
import 'bootstrap/dist/css/bootstrap.min.css';
import './App.css';
import Logo from './logo.svg';

const App = () => {
  const [startups, setStartups] = useState([
    { id: 1, name: 'TechInnovate', industry: 'Технологии', description: 'Инновационные решения для бизнеса', neededSpecialists: ['Разработчик', 'Дизайнер'], ceoName: 'Иван Петров', progress: 75, supportCount: 48 },
    { id: 2, name: 'FinRevolution', industry: 'Финансы', description: 'Революция в мире финансов', neededSpecialists: ['Финансовый аналитик', 'Разработчик'], ceoName: 'Анна Сидорова', progress: 60, supportCount: 45 },
    { id: 3, name: 'HealthTech', industry: 'Здравоохранение', description: 'Технологии для здоровья', neededSpecialists: ['Врач', 'Разработчик', 'Менеджер'], ceoName: 'Михаил Иванов', progress: 40, supportCount: 42 }
  ]);

  useEffect(() => {
    const handleScroll = () => {
      const elements = document.querySelectorAll('.parallax-element');
      elements.forEach(element => {
        const speed = 0.3;
        const offset = window.pageYOffset * speed;
        element.style.transform = `translateY(${offset}px)`;
      });
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const openStartupDetails = (startup) => {
    alert(`Открытие деталей стартапа: ${startup.name}`);
  };

  return (
    <div className="app">
      <nav className="navbar navbar-expand-lg navbar-light bg-light">
        <div className="container">
          <a className="navbar-brand" href="#">
            <img src={Logo} alt="StartupHub Logo" width="40" height="40" className="d-inline-block align-top" />
            StartupHub
          </a>
          <button className="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span className="navbar-toggler-icon"></span>
          </button>
          <div className="collapse navbar-collapse" id="navbarNav">
            <ul className="navbar-nav me-auto">
              <li className="nav-item">
                <a className="nav-link" href="#about">О сервисе</a>
              </li>
              <li className="nav-item">
                <a className="nav-link" href="#how-it-works">Как это работает</a>
              </li>
              <li className="nav-item">
                <a className="nav-link" href="#startups">Стартапы</a>
              </li>
            </ul>
            <div>
              <button className="btn btn-outline-primary me-2">Войти</button>
              <button className="btn btn-primary">Регистрация</button>
            </div>
          </div>
        </div>
      </nav>

      <div className="hero-section text-center py-5" style={{ backgroundImage: 'url(https://websim.ai/p/rlacv1n40vfffy1uqu8o/16)', backgroundSize: 'cover', color: '#fff' }}>
        <h1 className="display-4">Создай свой стартап и воплоти идею в реальность!</h1>
        <p className="lead">Найди команду, продемонстрируй результаты и привлекай инвесторов через нашу платформу.</p>
        <button className="btn btn-primary btn-lg">Начать сейчас</button>
      </div>

      <div className="container mt-4">
        <section id="about" className="my-5">
          <h2 className="mb-4">Как работает наш сервис</h2>
          <div className="row">
            {['Идея', 'Команда', 'MVP', 'Инвестиции'].map((stage, index) => (
              <div className="col-md-3" key={index}>
                <div className="card text-center p-3">
                  <h5>Этап {index + 1}: {stage}</h5>
                  <p>{`Описание этапа ${stage}`}</p>
                </div>
              </div>
            ))}
          </div>
        </section>

        <section id="startups" className="my-5">
          <h2 className="mb-4">Популярные стартапы</h2>
          <div className="row">
            {startups.map((startup) => (
              <div className="col-md-4 mb-4" key={startup.id}>
                <div className="card h-100 shadow-sm" onClick={() => openStartupDetails(startup)}>
                  <div className="card-header text-center bg-primary text-white">{startup.ceoName.charAt(0)}</div>
                  <div className="card-body">
                    <h5 className="card-title">{startup.name}</h5>
                    <h6 className="card-subtitle mb-2 text-muted">{startup.industry}</h6>
                    <p className="card-text">{startup.description}</p>
                    <p><strong>Нужны:</strong> {startup.neededSpecialists.join(', ')}</p>
                    <p><strong>Поддержка:</strong> {startup.supportCount}</p>
                    <div className="progress-bar-container">
                      <div className="progress-bar" style={{ width: `${startup.progress}%` }}></div>
                    </div>
                    <p className="mt-1 mb-0"><small>Прогресс: {startup.progress}%</small></p>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </section>

        <section id="how-it-works" className="my-5">
          <h2 className="mb-4">Как это работает</h2>
          <div className="row">
            {['Создай карточку стартапа', 'Найди команду', 'Запусти MVP', 'Привлекай инвестиции'].map((step, index) => (
              <div className="col-md-3" key={index}>
                <div className="card text-center p-3">
                  <h5>{step}</h5>
                  <p>{`Описание для шага: ${step}`}</p>
                </div>
              </div>
            ))}
          </div>
        </section>
      </div>

      <footer className="bg-dark text-white py-4">
        <div className="container text-center">
          <p>&copy; 2024 StartupHub. Все права защищены.</p>
        </div>
      </footer>

      <div className="parallax-element" style={{ top: '10%', left: '10%' }}></div>
      <div className="parallax-element" style={{ top: '50%', left: '80%' }}></div>
      <div className="parallax-element" style={{ top: '80%', left: '20%' }}></div>
    </div>
  );
};

export default App;
