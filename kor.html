<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –Ω–∞ —Å–∫—Ä—ã—Ç—É—é –∫–æ—Ä—Ä–æ–∑–∏—é: –°—ç–∫–æ–Ω–æ–º–∏—Ç–µ —Ç—ã—Å—è—á–∏!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body{font-family:'Inter',sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.gradient-text{background:linear-gradient(45deg,#3b82f6,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent}.custom-checkbox input:checked~.checkmark{background-color:#4f46e5;border-color:#4f46e5;transform:scale(1.05)}.custom-checkbox input:checked~.checkmark svg{transform:scale(1)}.custom-checkbox input:checked~.checklist-text{color:#475569}.custom-checkbox .checkmark svg{transform:scale(0);transition:transform .2s cubic-bezier(.68,-.55,.265,1.55)}@keyframes fadeIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.fade-in{animation:fadeIn .5s ease-out forwards}.loader{border:4px solid #f3f3f3;border-top:4px solid #4f46e5;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.risk-explanation{transition:all .3s ease-in-out;max-height:0;overflow:hidden;opacity:0;padding-top:0;padding-bottom:0;margin-top:0}.risk-explanation.visible{max-height:200px;opacity:1;padding-top:.75rem;padding-bottom:.75rem;margin-top:.5rem}
    </style>
</head>
<body class="bg-slate-50 text-slate-700">
    <div class="container mx-auto max-w-3xl px-4 py-8 sm:py-16">
        <div id="test-header" class="text-center mb-12">
            <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—ã–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ –∑–¥–µ—Å—å -->
            <img id="avatar-image" src="https://kuzovokspb.ru/wp-content/uploads/2025/04/Frame-30.jpg" alt="–†–∂–∞–≤—á–∏–Ω–∞ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ" class="w-32 h-32 rounded-full mx-auto mb-4 border-4 border-white shadow-lg object-cover">
            <h2 id="test-title" class="text-3xl sm:text-4xl font-bold text-slate-800">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –Ω–∞ —Å–∫—Ä—ã—Ç—É—é –∫–æ—Ä—Ä–æ–∑–∏—é: –°—ç–∫–æ–Ω–æ–º–∏—Ç–µ —Ç—ã—Å—è—á–∏!</h2>
            <p id="intro-text" class="mt-4 max-w-2xl mx-auto text-lg text-slate-600">–ù–µ –≤–∏–¥–∏—Ç–µ —Ä–∂–∞–≤—á–∏–Ω—ã? –≠—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –µ–µ –Ω–µ—Ç! –°–∫—Ä—ã—Ç–∞—è –∫–æ—Ä—Ä–æ–∑–∏—è –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–º—É —Ä–µ–º–æ–Ω—Ç—É. –ü—Ä–æ–π–¥–∏—Ç–µ –Ω–∞—à –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –∏–∑ 13 –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à –∞–≤—Ç–æ–º–æ–±–∏–ª—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</p>
        </div>
        <div class="space-y-4 max-w-3xl mx-auto">
            <div class="bg-white rounded-2xl shadow-lg shadow-slate-200/50 overflow-hidden">
                <ul id="checklist-group" class="divide-y divide-slate-200"></ul>
            </div>
        </div>
        <div class="text-center mt-12">
            <button id="checkButton" class="bg-indigo-600 text-white font-bold text-lg px-10 py-4 rounded-xl shadow-lg shadow-indigo-200 hover:bg-indigo-700">–ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
            <div id="resultMessage" class="hidden mt-8 max-w-2xl mx-auto p-6 rounded-2xl text-lg font-medium"></div>
            <div id="aiDoctorContainer" class="hidden mt-8 max-w-2xl mx-auto text-left">
                <h3 class="text-2xl font-bold text-slate-800 text-center mb-4">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –æ—Ç –æ–Ω–ª–∞–π–Ω-—ç–∫—Å–ø–µ—Ä—Ç–∞</h3>
                <div class="p-6 bg-white rounded-2xl shadow-lg shadow-slate-200/50">
                    <div id="geminiLoader" class="flex justify-center items-center p-8"><div class="loader"></div></div>
                    <div id="geminiAdvice" class="hidden space-y-4 text-slate-700"></div>
                    <div id="aiDoctorActions" class="hidden mt-6 flex flex-col sm:flex-row gap-4">
                        <a href="https://wa.me/79213885714" target="_blank" class="w-full text-center bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-indigo-700">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é</a>
                        <a href="https://t.me/@KuzovOk78" target="_blank" class="w-full text-center bg-slate-200 text-slate-800 font-bold py-3 px-6 rounded-lg shadow-sm hover:bg-slate-300">–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –≤ –≥—Ä—É–ø–ø–µ</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        const testData = [{"text":"<strong>–ü–æ—è–≤–ª–µ–Ω–∏–µ –ø—É–∑—ã—Ä–µ–π –Ω–∞ –∫—Ä–∞—Å–∫–µ:</strong> –ó–∞–º–µ—Ç–∏–ª–∏ –≤–∑–¥—É—Ç–∏—è –∏–ª–∏ –ø—É–∑—ã—Ä–∏ –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –∫—É–∑–æ–≤–∞? –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–º –∫–æ—Ä—Ä–æ–∑–∏–∏ –ø–æ–¥ –∫—Ä–∞—Å–∫–æ–π.","risk":"<strong>üö© –†–∏—Å–∫ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è –∫—É–∑–æ–≤–∞:</strong>¬† –ï—Å–ª–∏ –∫–æ—Ä—Ä–æ–∑–∏—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç—Å—è, —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–µ—Ä—å–µ–∑–Ω–æ–º—É –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—é –∫—É–∑–æ–≤–∞ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–≥–æ —Ä–µ–º–æ–Ω—Ç–∞ –∏–ª–∏ –¥–∞–∂–µ –∑–∞–º–µ–Ω—ã —á–∞—Å—Ç–µ–π."},{"text":"<strong>–°—Ç—Ä–∞–Ω–Ω—ã–µ –∑–≤—É–∫–∏ –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏:</strong> –°–ª—ã—à–∏—Ç–µ —Å–∫—Ä–∏–ø—ã, —Å–∫—Ä–µ–∂–µ—Ç –∏–ª–∏ —Å—Ç—É–∫–∏ –ø—Ä–∏ –ø—Ä–æ–µ–∑–¥–µ –Ω–µ—Ä–æ–≤–Ω–æ—Å—Ç–µ–π?","risk":"<strong>üö© –†–∏—Å–∫ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –ø–æ–¥–≤–µ—Å–∫–∏:</strong> –≠—Ç–æ –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –∫–æ—Ä—Ä–æ–∑–∏—é —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–¥–≤–µ—Å–∫–∏, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ –¥–æ—Ä–æ–≥–µ –∏ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–º—É —Ä–µ–º–æ–Ω—Ç—É."},{"text":"<strong>–ù–∞–ª–∏—á–∏–µ —Ä–∂–∞–≤—á–∏–Ω—ã –≤ —Å–∫—Ä—ã—Ç—ã—Ö –º–µ—Å—Ç–∞—Ö:</strong> –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∫—Ä—ã—Ç—ã–µ —É—á–∞—Å—Ç–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–¥ –¥–Ω–∏—â–µ–º, –≤ –∫–æ–ª–µ—Å–Ω—ã—Ö –∞—Ä–∫–∞—Ö, –ø–æ—Ä–æ–≥–∞—Ö –∏ –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º.","risk":"<strong>üö© –†–∏—Å–∫ –ø—Ä–æ–≥–Ω–∏–≤–∞–Ω–∏—è –º–µ—Ç–∞–ª–ª–∞:</strong>¬† –†–∂–∞–≤—á–∏–Ω–∞ –≤ —Ç—Ä—É–¥–Ω–æ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö –º–æ–∂–µ—Ç –±—ã—Å—Ç—Ä–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å—Å—è, –ø—Ä–∏–≤–æ–¥—è –∫ —Å–µ—Ä—å–µ–∑–Ω—ã–º –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è–º."},{"text":"<strong>–ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤ —Å–∞–ª–æ–Ω–µ:</strong> –ß—É–≤—Å—Ç–≤—É–µ—Ç–µ –Ω–µ–ø—Ä–∏—è—Ç–Ω—ã–π –∑–∞–ø–∞—Ö —Å—ã—Ä–æ—Å—Ç–∏ –∏–ª–∏ –ø–æ–≤—ã—à–µ–Ω–Ω—É—é –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤ —Å–∞–ª–æ–Ω–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è?","risk":"<strong>üö© –†–∏—Å–∫ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏:</strong> –í–ª–∞–∂–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫—É, –≤—ã–∑–≤–∞–≤ –∫–æ—Ä–æ—Ç–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ –∏ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏–π —Ä–µ–º–æ–Ω—Ç."},{"text":"<strong>–ü–æ—Ç–µ—Ä—è –±–ª–µ—Å–∫–∞ –∫—Ä–∞—Å–∫–∏:</strong> –ö—Ä–∞—Å–∫–∞ —Å—Ç–∞–ª–∞ —Ç—É—Å–∫–ª–æ–π –∏ –ø–æ—Ç—É—Å–∫–Ω–µ–≤—à–µ–π –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö?","risk":"<strong>üö© –†–∏—Å–∫ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ—á–∞–≥–æ–≤ –∫–æ—Ä—Ä–æ–∑–∏–∏:</strong> –≠—Ç–æ –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –Ω–∞—á–∞–ª—å–Ω—É—é —Å—Ç–∞–¥–∏—é –∫–æ—Ä—Ä–æ–∑–∏–∏ –ø–æ–¥ –∫—Ä–∞—Å–∫–æ–π."},{"text":"<strong>–í—ã—Ö–ª–æ–ø–Ω—ã–µ –≥–∞–∑—ã –≤ —Å–∞–ª–æ–Ω–µ:</strong> –ó–∞–º–µ—á–∞–µ—Ç–µ –∑–∞–ø–∞—Ö –≤—ã—Ö–ª–æ–ø–Ω—ã—Ö –≥–∞–∑–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è?","risk":"<strong>üö© –†–∏—Å–∫ –æ—Ç—Ä–∞–≤–ª–µ–Ω–∏—è —É–≥–∞—Ä–Ω—ã–º –≥–∞–∑–æ–º:</strong>¬† –≠—Ç–æ –æ—á–µ–Ω—å –æ–ø–∞—Å–Ω–æ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–æ –∫–æ—Ä—Ä–æ–∑–∏–µ–π –≤ –≤—ã—Ö–ª–æ–ø–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ."},{"text":"<strong>–ü—Ä–æ–±–ª–µ–º—ã —Å –æ—Ç–∫—Ä—ã–≤–∞–Ω–∏–µ–º/–∑–∞–∫—Ä—ã–≤–∞–Ω–∏–µ–º –¥–≤–µ—Ä–µ–π:</strong>¬† –î–≤–µ—Ä–∏ —Å—Ç–∞–ª–∏ –ø–ª–æ—Ö–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å—Å—è –∏–ª–∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è?","risk":"<strong>üö© –†–∏—Å–∫ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –ø–µ—Ç–µ–ª—å:</strong> –ö–æ—Ä—Ä–æ–∑–∏—è –ø–µ—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –¥–≤–µ—Ä–µ–π, –∞ —Ç–∞–∫–∂–µ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∏—Ö –ø–æ–ª–æ–º–∫–µ."},{"text":"<strong>–†—ã–∂–∏–∫–∏ –Ω–∞ –¥–µ—Ç–∞–ª—è—Ö –∏–∑ –º–µ—Ç–∞–ª–ª–∞:</strong> –í–∏–¥–∏—Ç–µ –Ω–µ–±–æ–ª—å—à–∏–µ —Ä—ã–∂–∏–µ –ø—è—Ç–Ω–∞ –Ω–∞ –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏—Ö —á–∞—Å—Ç—è—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª—è?","risk":"<strong>üö© –†–∏—Å–∫ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —Ä–∂–∞–≤—á–∏–Ω—ã:</strong>¬† –î–∞–∂–µ –Ω–µ–±–æ–ª—å—à–∏–µ –æ—á–∞–≥–∏ —Ä–∂–∞–≤—á–∏–Ω—ã –º–æ–≥—É—Ç –±—ã—Å—Ç—Ä–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç—å—Å—è –Ω–∞ –±–æ–ª—å—à–∏–µ –ø–ª–æ—â–∞–¥–∏."},{"text":"<strong>–ü—Ä–æ–±–ª–µ–º—ã —Å —Ç–æ—Ä–º–æ–∑–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π:</strong> –ó–∞–º–µ—Ç–∏–ª–∏ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ –≤ —Ç–æ—Ä–º–æ–∑–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —É—Ö—É–¥—à–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏—è?","risk":"<strong>üö© –†–∏—Å–∫ –∞–≤–∞—Ä–∏–∏:</strong> –ö–æ—Ä—Ä–æ–∑–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ç–æ—Ä–º–æ–∑–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–µ—Ä—å–µ–∑–Ω—ã–º –∞–≤–∞—Ä–∏—è–º."},{"text":"<strong>–ü–ª–æ—Ö–æ–π –∫–æ–Ω—Ç–∞–∫—Ç —ç–ª–µ–∫—Ç—Ä–æ–ø—Ä–æ–≤–æ–¥–∫–∏:</strong> –ó–∞–º–µ—Ç–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —ç–ª–µ–∫—Ç—Ä–∏–∫–æ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Ñ–∞—Ä—ã –∏–ª–∏ —Å—Ç–µ–∫–ª–æ–ø–æ–¥—ä–µ–º–Ω–∏–∫–∏?","risk":"<strong>üö© –†–∏—Å–∫ –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –∑–∞–º—ã–∫–∞–Ω–∏—è:</strong> –ö–æ—Ä—Ä–æ–∑–∏—è –º–æ–∂–µ—Ç –ø–æ–≤—Ä–µ–¥–∏—Ç—å –ø—Ä–æ–≤–æ–¥–∫—É, –≤—ã–∑–≤–∞–≤ –∫–æ—Ä–æ—Ç–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ –∏ –ø–æ–∂–∞—Ä."},{"text":"<strong>–ù–µ—Ä–æ–≤–Ω–æ—Å—Ç–∏ –Ω–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ –º–µ—Ç–∞–ª–ª–∞:</strong> –ü—Ä–æ—â—É–ø–∞–π—Ç–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –∫—É–∑–æ–≤–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –Ω–µ—Ä–æ–≤–Ω–æ—Å—Ç–µ–π –∏–ª–∏ –±—É–≥–æ—Ä–∫–æ–≤.","risk":"<strong>üö© –†–∏—Å–∫ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–µ—Ç–∞–ª–ª–∞:</strong> –ù–µ—Ä–æ–≤–Ω–æ—Å—Ç–∏ –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–∫—Ä—ã—Ç–æ–π –∫–æ—Ä—Ä–æ–∑–∏–∏."},{"text":"<strong>–£—Ö—É–¥—à–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è:</strong> –ü–æ—è–≤–∏–ª–∏—Å—å —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º?","risk":"<strong>üö© –†–∏—Å–∫ –∞–≤–∞—Ä–∏–∏:</strong> –ö–æ—Ä—Ä–æ–∑–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–¥–≤–µ—Å–∫–∏ –∏ —Ä—É–ª–µ–≤–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–∂–µ—Ç —Å–µ—Ä—å–µ–∑–Ω–æ –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ —É–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å."},{"text":"<strong>–ù–∞–ª–∏—á–∏–µ –≤–ª–∞–≥–∏ –≤ –±–∞–≥–∞–∂–Ω–∏–∫–µ:</strong>¬† –ó–∞–º–µ—Ç–∏–ª–∏ –ø–æ–≤—ã—à–µ–Ω–Ω—É—é –≤–ª–∞–∂–Ω–æ—Å—Ç—å –∏–ª–∏ –ª—É–∂–∏—Ü—É –≤–æ–¥—ã –≤ –±–∞–≥–∞–∂–Ω–∏–∫–µ?","risk":"<strong>üö© –†–∏—Å–∫ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –±–∞–≥–∞–∂–Ω–∏–∫–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:</strong> –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–æ –∫–æ—Ä—Ä–æ–∑–∏–µ–π –¥–Ω–∏—â–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è."}];
        const apiKey = "AIzaSyBQx_0xPlhGmlRwuDFC52rRkgy_MB5d0yg";

        document.addEventListener('DOMContentLoaded', () => {
            const checklistGroup = document.getElementById('checklist-group');
            const checkButton = document.getElementById('checkButton');
            const resultMessage = document.getElementById('resultMessage');
            const aiDoctorContainer = document.getElementById('aiDoctorContainer');
            const geminiLoader = document.getElementById('geminiLoader');
            const geminiAdviceDiv = document.getElementById('geminiAdvice');
            const aiDoctorActions = document.getElementById('aiDoctorActions');

            // Render checklist
            testData.forEach(item => {
                const li = document.createElement('li');
                li.className = 'p-4 sm:p-6';
                li.innerHTML = `
                    <label class="custom-checkbox flex items-start cursor-pointer">
                        <input type="checkbox" class="hidden checklist-item">
                        <div class="checkmark flex-shrink-0 w-6 h-6 rounded-md border-2 border-slate-300 bg-slate-100 mr-4 mt-1 flex items-center justify-center transition-all duration-300">
                            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
                        </div>
                        <span class="checklist-text text-base text-slate-700">${item.text}</span>
                    </label>
                    <div class="risk-explanation ml-10 p-3 bg-red-50 border border-red-200 rounded-lg text-red-800 text-sm">${item.risk}</div>
                `;
                checklistGroup.appendChild(li);
            });

            document.querySelectorAll('.checklist-item').forEach(checkbox => {
                checkbox.addEventListener('change', (event) => {
                    const li = event.target.closest('li');
                    const riskDiv = li.querySelector('.risk-explanation');
                    if (event.target.checked) {
                        li.classList.add('bg-indigo-50');
                        if(riskDiv) riskDiv.classList.add('visible');
                    } else {
                        li.classList.remove('bg-indigo-50');
                        if(riskDiv) riskDiv.classList.remove('visible');
                    }
                });
            });

            checkButton.addEventListener('click', checkResults);

            function checkResults() {
                const checkedCheckboxes = document.querySelectorAll('.checklist-item:checked');
                const checkedCount = checkedCheckboxes.length;
                const checkedItems = Array.from(checkedCheckboxes).map(cb => cb.closest('label').querySelector('.checklist-text').innerText);
                
                resultMessage.className = 'hidden mt-8 max-w-2xl mx-auto p-6 rounded-2xl text-lg font-medium text-center';
                const ctaButton = `<a href="https://wa.me/79213885714" target="_blank" class="mt-4 inline-block bg-white text-indigo-600 font-bold px-6 py-3 rounded-lg shadow-md hover:bg-indigo-50">–ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é</a>`;

                let message = '', resultType = '';
                if (checkedCount >= 2) {
                    resultType = 'warning';
                    message = `<strong>–í–Ω–∏–º–∞–Ω–∏–µ, –≤—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫!</strong> –í—ã –æ—Ç–º–µ—Ç–∏–ª–∏ <strong>${checkedCount}</strong> –ø—É–Ω–∫—Ç–∞(–æ–≤).<br>–ù–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ —Ä–µ—à–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞. ${ctaButton}`;
                    resultMessage.classList.add('bg-amber-100', 'border-2', 'border-amber-200', 'text-amber-900');
                } else if (checkedCount === 1) {
                    resultType = 'success';
                    message = `–í—ã –æ—Ç–º–µ—Ç–∏–ª–∏ <strong>1</strong> –ø—É–Ω–∫—Ç. –≠—Ç–æ –ø–æ–≤–æ–¥ –¥–ª—è –≤–Ω–∏–º–∞–Ω–∏—è.<br>–ß—Ç–æ–±—ã –±—ã—Ç—å –≤ –∫—É—Ä—Å–µ, –ø–æ–ª—É—á–∏—Ç–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é. ${ctaButton}`;
                    resultMessage.classList.add('bg-green-100', 'border-2', 'border-green-200', 'text-green-900');
                } else {
                     resultType = 'success';
                     message = `–í—ã –Ω–µ –æ—Ç–º–µ—Ç–∏–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞. –û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! <br>–ß—Ç–æ–±—ã –∏ –¥–∞–ª—å—à–µ –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º, –ø–æ–ª—É—á–∏—Ç–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é. ${ctaButton}`;
                     resultMessage.classList.add('bg-green-100', 'border-2', 'border-green-200', 'text-green-900');
                }
                
                resultMessage.innerHTML = message;
                resultMessage.classList.remove('hidden');
                resultMessage.classList.add('fade-in');
                resultMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                if (checkedCount > 0) getGeminiAdvice(checkedItems, resultType);
            }

            async function getGeminiAdvice(checkedItems, resultType) {
                aiDoctorContainer.classList.remove('hidden');
                aiDoctorContainer.classList.add('fade-in');
                geminiLoader.style.display = 'flex';
                geminiAdviceDiv.classList.add('hidden');
                aiDoctorActions.classList.add('hidden');
                
                let prompt = resultType === 'warning'
                    ? `–í—ã—Å—Ç—É–ø–∏ –≤ —Ä–æ–ª–∏ –æ–ø—ã—Ç–Ω–æ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞ –ø–æ —Ç–µ–º–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–µ—Å–ø–æ–∫–æ–µ–Ω, —Ç–∞–∫ –∫–∞–∫ —Ç–µ—Å—Ç –≤—ã—è–≤–∏–ª —Å–ª–µ–¥—É—é—â–∏–µ —Ä–∏—Å–∫–∏: ${checkedItems.join(', ')}. –û—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–æ (–¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤), –±–µ–∑ –Ω—É–º–µ—Ä–∞—Ü–∏–∏ –∏ –∑–≤–µ–∑–¥–æ—á–µ–∫, —É—Å–ø–æ–∫–æ–π –µ–≥–æ. –°–∫–∞–∂–∏, —á—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è, –Ω–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ —Ä–µ—à–∞–µ–º—ã. –ü–æ—Å–æ–≤–µ—Ç—É–π –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞. –¢–≤–æ—è —Ü–µ–ª—å ‚Äî —Å–Ω–∏–∑–∏—Ç—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é.`
                    : `–í—ã—Å—Ç—É–ø–∏ –≤ —Ä–æ–ª–∏ –æ–ø—ã—Ç–Ω–æ–≥–æ —ç–∫—Å–ø–µ—Ä—Ç–∞ –ø–æ —Ç–µ–º–µ. –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ö–æ—Ä–æ—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞, –Ω–æ –æ–Ω –æ—Ç–º–µ—Ç–∏–ª: ${checkedItems.join(', ')}. –û—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–æ (–¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤), –±–µ–∑ –Ω—É–º–µ—Ä–∞—Ü–∏–∏ –∏ –∑–≤–µ–∑–¥–æ—á–µ–∫, –ø–æ—Ö–≤–∞–ª–∏ –µ–≥–æ –∑–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥. –ü–æ—Å–æ–≤–µ—Ç—É–π –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –¥–ª—è –ø–ª–∞–Ω–æ–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–ª–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –≥—Ä—É–ø–ø–µ. –¢–≤–æ—è —Ü–µ–ª—å ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å.`;

                try {
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`;
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                    });
                    if (!response.ok) throw new Error(`API Error: ${response.statusText}`);
                    const result = await response.json();
                    const text = result.candidates[0].content.parts[0].text;
                    geminiAdviceDiv.innerHTML = text.replace(/\*/g, '').replace(/\n/g, '<br><br>');
                } catch (error) {
                    console.error("–û—à–∏–±–∫–∞ AI-—Å–æ–≤–µ—Ç–Ω–∏–∫–∞:", error);
                    geminiAdviceDiv.innerHTML = "–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–≤–µ—Ç–∞. –î–ª—è —Å—Ä–æ—á–Ω–æ–π –ø–æ–º–æ—â–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é.";
                } finally {
                    geminiLoader.style.display = 'none';
                    geminiAdviceDiv.classList.remove('hidden');
                    aiDoctorActions.classList.remove('hidden');
                    aiDoctorContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
        });
    </script>
</body>
</html>
